<div class="container">
  <div class="page-header">
    <h1>Novo Pré-agendamento</h1>
    <p>Cadastre um novo pré-agendamento para um paciente</p>
  </div>

  <div class="card">
    <form>
      <div class="form-group">
        <label for="cpf">CPF *</label>
        <input 
          type="text" 
          id="cpf" 
          name="cpf" 
          [(ngModel)]="preAgendamento.cpf" 
          placeholder="000.000.000-00"
          (input)="formatarCpf($event)"
          (blur)="buscarClientePorCpf()"
          maxlength="14"
          required
        >
      </div>

      <div class="form-group">
        <label for="nome">Nome completo *</label>
        <input 
          type="text" 
          id="nome" 
          name="nome" 
          [(ngModel)]="preAgendamento.nome" 
          placeholder="Nome completo do paciente"
          required
        >
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="data">Data desejada *</label>
          <input 
            type="date" 
            id="data" 
            name="data" 
            [(ngModel)]="preAgendamento.data" 
            required
          >
        </div>

        <div class="form-group">
          <label for="colaborador">Profissional *</label>
          <select 
            id="colaborador" 
            name="colaborador" 
            [(ngModel)]="preAgendamento.colaboradorId" 
            required
          >
            <option [ngValue]="0" disabled>Selecione um profissional</option>
            <option *ngFor="let colaborador of colaboradores" [value]="colaborador.id">
              {{ colaborador.nome }} ({{ colaborador.especialidade }})
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="observacoes">Observações (opcional)</label>
        <textarea 
          id="observacoes" 
          name="observacoes" 
          [(ngModel)]="preAgendamento.observacoes" 
          placeholder="Informações adicionais sobre o pré-agendamento"
          rows="3"
        ></textarea>
      </div>

      <div class="mensagens">
        <div *ngIf="mensagemErro" class="mensagem-erro">
          {{ mensagemErro }}
        </div>
        <div *ngIf="mensagemSucesso" class="mensagem-sucesso">
          {{ mensagemSucesso }}
        </div>
      </div>

      <div class="actions">
        <button type="button" class="btn-cancelar" (click)="cancelar()">Cancelar</button>
        <button type="button" class="btn-salvar" (click)="salvar()">Salvar pré-agendamento</button>
      </div>
    </form>
  </div>
</div>